<div class="hx-input-group hxa-datepicker-form">
  <button
    type="button"
    aria-label="Open datepicker"
    class="hxa-datepicker__button left"
    (click)="onFocused($event)"
    *ngIf="iconPlacement === 'left'"
    tabindex="0"
  >
    <i class="{{ icon }}"></i>
  </button>

  <div
    class="hx-input-control hxa-datepicker-control"
    [ngClass]="{
      'is-danger': (!isValid && datePickerForm.touched) || isDanger,
      'is-help-visible': helpTextVisible,
      'is-warning': isWarning && isValid && datePickerForm.touched
    }"
  >
    <input
      class="hx-input"
      type="text"
      [attr.aria-label]="placeholder"
      [title]="helpText"
      #datePickerForm="ngModel"
      hxaTextInput
      [required]="required ? true : null"
      [disabled]="disabled"
      [readonly]="readonly ? true : null"
      [ngModel]="date | date: dateFormat"
      (change)="onChange($event)"
      (keydown.Tab)="onTab($event)"
      [mask]="maskPattern"
      [clearIfNotMatch]="true"
    />
    <label class="hx-label" *ngIf="placeholder">
      {{ placeholder }} <ng-container *ngIf="required">*</ng-container>
    </label>
    <div class="hx-help">{{ helpText }}</div>
  </div>

  <button
    type="button"
    aria-label="Open datepicker"
    class="hxa-datepicker__button right"
    (click)="onFocused($event)"
    *ngIf="iconPlacement === 'right'"
    tabindex="0"
  >
    <i class="{{ icon }}"></i>
  </button>
</div>
